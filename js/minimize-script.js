const modalButton=document.querySelector(".button-contacts"),letterPopup=document.querySelector(".modal"),modalClose=document.querySelector(".modal-close"),modalUserName=document.querySelector(".modal-input-username"),modalLogin=document.querySelector(".modal-input-login"),modalForm=document.querySelector(".modal-form");let isStorageSupport=!0,storage="";try{storage=localStorage.getItem("login")}catch(e){isStorageSupport=!1}modalButton.addEventListener("click",function(e){e.preventDefault(),letterPopup.classList.add("modal-show"),modalUserName.focus(),storage&&(modalLogin.value=storage)}),modalClose.addEventListener("click",function(e){e.preventDefault(),letterPopup.classList.remove("modal-show"),letterPopup.classList.remove("modal-error")}),modalForm.addEventListener("submit",function(e){modalUserName.value&&modalLogin.value?isStorageSupport&&localStorage.setItem("login",modalLogin.value):(e.preventDefault(),letterPopup.classList.remove("modal-error"),letterPopup.offsetWidth=letterPopup.offsetWidth,letterPopup.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&letterPopup.classList.contains("modal-show")&&(e.preventDefault(),letterPopup.classList.remove("modal-show"),letterPopup.classList.add("modal-error"))});
